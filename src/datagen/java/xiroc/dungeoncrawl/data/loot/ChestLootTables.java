/*
        Dungeon Crawl, a procedural dungeon generator for Minecraft 1.14 and later.
        Copyright (C) 2020

        This program is free software: you can redistribute it and/or modify
        it under the terms of the GNU General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU General Public License for more details.

        You should have received a copy of the GNU General Public License
        along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

package xiroc.dungeoncrawl.data.loot;

import net.minecraft.resources.ResourceLocation;
import net.minecraft.world.item.Items;
import net.minecraft.world.level.storage.loot.LootPool;
import net.minecraft.world.level.storage.loot.LootTable;
import net.minecraft.world.level.storage.loot.entries.LootItem;
import net.minecraft.world.level.storage.loot.functions.EnchantWithLevelsFunction;
import net.minecraft.world.level.storage.loot.functions.SetItemCountFunction;
import net.minecraft.world.level.storage.loot.providers.number.ConstantValue;
import net.minecraft.world.level.storage.loot.providers.number.UniformGenerator;
import xiroc.dungeoncrawl.DungeonCrawl;

import java.util.function.BiConsumer;
import java.util.function.Consumer;

public class ChestLootTables implements Consumer<BiConsumer<ResourceLocation, LootTable.Builder>> {
    @Override
    public void accept(BiConsumer<ResourceLocation, LootTable.Builder> consumer) {
        consumer.accept(chest("food"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("food")
                        .setRolls(UniformGenerator.between(9, 11))
                        .add(LootItem.lootTableItem(Items.APPLE)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.MUSHROOM_STEW))
                        .add(LootItem.lootTableItem(Items.BREAD)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.PORKCHOP)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COOKED_PORKCHOP)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COD)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COOKED_COD)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.SALMON)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.PUFFERFISH)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COOKIE)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 6))))
                        .add(LootItem.lootTableItem(Items.CAKE))
                        .add(LootItem.lootTableItem(Items.MELON_SLICE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.DRIED_KELP))
                        .add(LootItem.lootTableItem(Items.BEEF)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COOKED_BEEF)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.CHICKEN)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COOKED_CHICKEN)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(16)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 8))))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .setWeight(8)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.CARROT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.POTATO)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 5))))
                        .add(LootItem.lootTableItem(Items.BAKED_POTATO)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.POISONOUS_POTATO)
                                .setWeight(9)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.PUMPKIN_PIE))
                        .add(LootItem.lootTableItem(Items.RABBIT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COOKED_RABBIT))
                        .add(LootItem.lootTableItem(Items.RABBIT_STEW))
                        .add(LootItem.lootTableItem(Items.MUTTON)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COOKED_PORKCHOP))
                        .add(LootItem.lootTableItem(Items.BEETROOT)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.BEETROOT_SOUP)
                                .setWeight(3))
                        .add(LootItem.lootTableItem(Items.SWEET_BERRIES)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))));

        consumer.accept(chest("secret_room"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("secret room")
                        .setRolls(UniformGenerator.between(8, 8))
                        .add(LootItem.lootTableItem(Items.COBWEB)
                                .setWeight(9)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 8))))
                        .add(LootItem.lootTableItem(Items.EMERALD)
                                .setWeight(8)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 8))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(8, 16))))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 12))))
                        .add(LootItem.lootTableItem(Items.MAP)
                                .setWeight(3))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_11))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_13))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_BLOCKS))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CHIRP))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CAT))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_FAR))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_MALL))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_MELLOHI))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_STAL))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_STRAD))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_WAIT))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_WARD))));

        consumer.accept(chest("stage_1"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("stage one chest")
                        .setRolls(UniformGenerator.between(6, 9))
                        .add(LootItem.lootTableItem(Items.APPLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.POTATO)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BAKED_POTATO)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.CARROT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.COOKED_BEEF)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 4))))
                        .add(LootItem.lootTableItem(Items.COAL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 5))))
                        .add(LootItem.lootTableItem(Items.COBWEB)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.FEATHER)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.GOLD_NUGGET)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 7))))
                        .add(LootItem.lootTableItem(Items.IRON_NUGGET)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 7))))
                        .add(LootItem.lootTableItem(Items.CLAY_BALL)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 5))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.INK_SAC)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.TNT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.EGG)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.SUGAR_CANE)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 5))))
                        .add(LootItem.lootTableItem(Items.BRICK)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 10))))
                        .add(LootItem.lootTableItem(Items.MINECART))
                        .add(LootItem.lootTableItem(Items.CAULDRON))
                        .add(LootItem.lootTableItem(Items.RABBIT_HIDE)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.PHANTOM_MEMBRANE)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.LEATHER_HORSE_ARMOR)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_13))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CAT))
                        .add(LootItem.lootTableItem(Items.NAME_TAG))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(10, 15))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.TORCH)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 10))))
                        .add(LootItem.lootTableItem(Items.BROWN_MUSHROOM)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.RED_MUSHROOM)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BOWL)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.CLOCK))
                        .add(LootItem.lootTableItem(Items.COMPASS))
                        .add(LootItem.lootTableItem(Items.LEAD))
                        .add(LootItem.lootTableItem(Items.FERMENTED_SPIDER_EYE)
                                .setWeight(3))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .setWeight(6))));

        consumer.accept(chest("stage_2"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("stage two chest")
                        .setRolls(UniformGenerator.between(6, 9))
                        .add(LootItem.lootTableItem(Items.APPLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.POTATO)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BAKED_POTATO)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.CARROT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.COOKED_BEEF)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 4))))
                        .add(LootItem.lootTableItem(Items.COAL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 9))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 9))))
                        .add(LootItem.lootTableItem(Items.COBWEB)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.FEATHER)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.GOLD_NUGGET)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 7))))
                        .add(LootItem.lootTableItem(Items.IRON_NUGGET)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 7))))
                        .add(LootItem.lootTableItem(Items.CLAY_BALL)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 5))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.INK_SAC)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.TNT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.EGG)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.SUGAR_CANE)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 5))))
                        .add(LootItem.lootTableItem(Items.DEAD_BUSH)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BRICK)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 10))))
                        .add(LootItem.lootTableItem(Items.MINECART))
                        .add(LootItem.lootTableItem(Items.CAULDRON))
                        .add(LootItem.lootTableItem(Items.RABBIT_HIDE)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.PHANTOM_MEMBRANE)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.LEATHER_HORSE_ARMOR)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_13))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CAT))
                        .add(LootItem.lootTableItem(Items.NAME_TAG))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(3)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(10, 18))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.TORCH)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 8))))
                        .add(LootItem.lootTableItem(Items.BROWN_MUSHROOM)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.RED_MUSHROOM)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BOWL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.CLOCK))
                        .add(LootItem.lootTableItem(Items.COMPASS))
                        .add(LootItem.lootTableItem(Items.LEAD))
                        .add(LootItem.lootTableItem(Items.FERMENTED_SPIDER_EYE)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .setWeight(4))));

        consumer.accept(chest("stage_3"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("stage three chest")
                        .setRolls(UniformGenerator.between(6, 9))
                        .add(LootItem.lootTableItem(Items.COOKED_BEEF)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 4))))
                        .add(LootItem.lootTableItem(Items.COAL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(6, 10))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 9))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 9))))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 8))))
                        .add(LootItem.lootTableItem(Items.DIAMOND))
                        .add(LootItem.lootTableItem(Items.COBWEB)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(8)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 10))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(8)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 10))))
                        .add(LootItem.lootTableItem(Items.SADDLE)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_13))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CAT))
                        .add(LootItem.lootTableItem(Items.NAME_TAG))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(3)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(15, 20))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 5))))
                        .add(LootItem.lootTableItem(Items.TORCH)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 7))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.CLOCK))
                        .add(LootItem.lootTableItem(Items.COMPASS))
                        .add(LootItem.lootTableItem(Items.LEAD))
                        .add(LootItem.lootTableItem(Items.FERMENTED_SPIDER_EYE))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 7))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 6))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 6))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 10))))
                        .add(LootItem.lootTableItem(Items.TNT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.SLIME_BALL)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.MINECART))
                        .add(LootItem.lootTableItem(Items.PHANTOM_MEMBRANE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 6))))
                        .add(LootItem.lootTableItem(Items.DIAMOND_HORSE_ARMOR))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))));

        consumer.accept(chest("stage_4"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("stage four chest")
                        .setRolls(UniformGenerator.between(7, 10))
                        .add(LootItem.lootTableItem(Items.COAL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(6, 10))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 9))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 9))))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 8))))
                        .add(LootItem.lootTableItem(Items.DIAMOND)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.COBWEB)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(8)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 10))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(8)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 10))))
                        .add(LootItem.lootTableItem(Items.SADDLE)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_13))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CAT))
                        .add(LootItem.lootTableItem(Items.NAME_TAG))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(3)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(18, 25))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 5))))
                        .add(LootItem.lootTableItem(Items.TORCH)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.CLOCK))
                        .add(LootItem.lootTableItem(Items.COMPASS))
                        .add(LootItem.lootTableItem(Items.LEAD))
                        .add(LootItem.lootTableItem(Items.FERMENTED_SPIDER_EYE))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 7))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 6))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 6))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 10))))
                        .add(LootItem.lootTableItem(Items.TNT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.SLIME_BALL)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.MINECART))
                        .add(LootItem.lootTableItem(Items.PHANTOM_MEMBRANE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 6))))
                        .add(LootItem.lootTableItem(Items.DIAMOND_HORSE_ARMOR))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))));

        consumer.accept(chest("stage_5"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("stage five chest")
                        .setRolls(UniformGenerator.between(6, 9))
                        .add(LootItem.lootTableItem(Items.COAL)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(6, 10))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(7, 10))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT)
                                .setWeight(7)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 10))))
                        .add(LootItem.lootTableItem(Items.DIAMOND)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 6))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(10)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 10))))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_13))
                        .add(LootItem.lootTableItem(Items.MUSIC_DISC_CAT))
                        .add(LootItem.lootTableItem(Items.NAME_TAG)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(3)
                                .apply(EnchantWithLevelsFunction.enchantWithLevels(UniformGenerator.between(20, 30))))
                        .add(LootItem.lootTableItem(Items.TORCH)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.LAPIS_LAZULI)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 8))))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 7))))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 10))))
                        .add(LootItem.lootTableItem(Items.FEATHER)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.DEAD_BUSH)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.EGG)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.BRICK)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 9))))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 9))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 6))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.DIAMOND_HORSE_ARMOR))
                        .add(LootItem.lootTableItem(Items.ENDER_PEARL)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.GOLD_NUGGET)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(6, 9))))
                        .add(LootItem.lootTableItem(Items.IRON_NUGGET)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(5, 10))))));

        consumer.accept(chest("supply"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("guaranteed torches")
                        .setRolls(ConstantValue.exactly(1))
                        .add(LootItem.lootTableItem(Items.TORCH)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(8, 24)))))
                .withPool(LootPool.lootPool()
                        .name("supply")
                        .setRolls(UniformGenerator.between(8, 10))
                        .add(LootItem.lootTableItem(Items.APPLE)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.POTATO)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.CARROT)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.MELON_SLICE)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.COOKED_BEEF)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COOKED_PORKCHOP)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COOKED_CHICKEN)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COOKED_RABBIT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COOKED_MUTTON)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.COAL)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.IRON_INGOT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 2))))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 10))))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 6))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 4))))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.FEATHER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(4)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(5)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 8))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.DEAD_BUSH)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.EGG)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.BRICK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 9))))
                        .add(LootItem.lootTableItem(Items.MAP))
                        .add(LootItem.lootTableItem(Items.RABBIT_HIDE))
                        .add(LootItem.lootTableItem(Items.LEATHER_HORSE_ARMOR)
                                .setWeight(2))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE))
                        .add(LootItem.lootTableItem(Items.BOWL))
                        .add(LootItem.lootTableItem(Items.CLOCK))
                        .add(LootItem.lootTableItem(Items.COMPASS))
                        .add(LootItem.lootTableItem(Items.LEAD))
                        .add(LootItem.lootTableItem(Items.FERMENTED_SPIDER_EYE))
                        .add(LootItem.lootTableItem(Items.SPIDER_EYE)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 7))))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(5)
                                .apply(EnchantWithLevelsFunction.enchantWithLevels(ConstantValue.exactly(10))))));

        consumer.accept(chest("treasure"), LootTable.lootTable()
                .withPool(LootPool.lootPool()
                        .name("treasure")
                        .setRolls(UniformGenerator.between(7, 8))
                        .add(LootItem.lootTableItem(Items.ARROW)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 10))))
                        .add(LootItem.lootTableItem(Items.BONE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(4, 6))))
                        .add(LootItem.lootTableItem(Items.ROTTEN_FLESH)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 4))))
                        .add(LootItem.lootTableItem(Items.STICK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.FEATHER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 4))))
                        .add(LootItem.lootTableItem(Items.PAPER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.FLINT)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.STRING)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.GUNPOWDER)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 8))))
                        .add(LootItem.lootTableItem(Items.GLASS_BOTTLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 5))))
                        .add(LootItem.lootTableItem(Items.DEAD_BUSH)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 7))))
                        .add(LootItem.lootTableItem(Items.EGG)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 8))))
                        .add(LootItem.lootTableItem(Items.BRICK)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(2, 9))))
                        .add(LootItem.lootTableItem(Items.EXPERIENCE_BOTTLE)
                                .setWeight(2)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(8, 32))))
                        .add(LootItem.lootTableItem(Items.GOLD_INGOT)
                                .setWeight(6)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(16, 64))))
                        .add(LootItem.lootTableItem(Items.DIAMOND)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(1, 3))))
                        .add(LootItem.lootTableItem(Items.GOLDEN_HELMET)
                                .setWeight(2)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(30, 40))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.GOLDEN_CHESTPLATE)
                                .setWeight(2)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(30, 40))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.GOLDEN_LEGGINGS)
                                .setWeight(2)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(30, 40))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.GOLDEN_BOOTS)
                                .setWeight(2)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(30, 40))
                                        .allowTreasure()))
                        .add(LootItem.lootTableItem(Items.GOLDEN_APPLE)
                                .setWeight(3)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(3, 6))))
                        .add(LootItem.lootTableItem(Items.ENCHANTED_GOLDEN_APPLE))
                        .add(LootItem.lootTableItem(Items.GOLDEN_CARROT)
                                .apply(SetItemCountFunction.setCount(UniformGenerator.between(8, 24))))
                        .add(LootItem.lootTableItem(Items.BOOK)
                                .setWeight(4)
                                .apply(EnchantWithLevelsFunction
                                        .enchantWithLevels(UniformGenerator.between(20, 30))
                                        .allowTreasure()))));
    }

    private static ResourceLocation chest(String path) {
        return DungeonCrawl.locate("chests/" + path);
    }
}
